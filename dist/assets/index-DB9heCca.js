const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-BahpKeVa.js","assets/chunk-BLWUN8J3.js","assets/chunk-DIdkmVTH.js","assets/chunk-DU-2Uplp.js","assets/chunk-IloZ2OGx.js","assets/chunk-B5QGrkOq.js","assets/chunk-B-bFj9Kt.js","assets/page-content-DiS02WHI.js","assets/page-templates--dQk_Sd_.js","assets/page-analytics-CDsGNCQF.js","assets/page-settings-BaajzrZe.js","assets/page-pricing-BTMPODO4.js","assets/chunk-buqKH5iP.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{r,R as s,j as n,a as i,E as a,q as o,t as c,N as u,v as l,B as d,x as h,Q as p}from"./chunk-BLWUN8J3.js";import{a$ as m,b0 as g}from"./chunk-DU-2Uplp.js";import{u as f,L as b,A as y,N as v,E as x,P as C,b as I,c as S,d as U}from"./chunk-B5QGrkOq.js";import{B as k,w}from"./chunk-B-bFj9Kt.js";import{l as M,a_ as E,a$ as T,b0 as _,b1 as L,al as A,d as P,B as O,ak as D,b2 as R,b3 as j}from"./chunk-IloZ2OGx.js";import{N as H}from"./chunk-BahpKeVa.js";import"./chunk-DIdkmVTH.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const z=new class extends k{constructor(){super(),t(this,"activeUsers",new Map),t(this,"currentContentId",null),t(this,"operationQueue",[]),t(this,"isProcessingOperations",!1),this.setupWebSocketListeners()}setupWebSocketListeners(){w.on("collaborationEvent",e=>{this.handleCollaborationEvent(e)}),w.on("connected",()=>{this.currentContentId&&this.joinContent(this.currentContentId)})}joinContent(e){this.currentContentId&&this.currentContentId!==e&&this.leaveContent(),this.currentContentId=e,w.subscribe(`content:${e}`),w.send({type:"collaboration_join",payload:{contentId:e,timestamp:Date.now()}}),this.emit("contentJoined",e)}leaveContent(){this.currentContentId&&(w.unsubscribe(`content:${this.currentContentId}`),w.send({type:"collaboration_leave",payload:{contentId:this.currentContentId,timestamp:Date.now()}}),this.activeUsers.clear(),this.currentContentId=null,this.emit("contentLeft"))}updateCursor(e){this.currentContentId&&w.send({type:"collaboration_cursor",payload:{contentId:this.currentContentId,position:e,timestamp:Date.now()}})}updateSelection(e){this.currentContentId&&w.send({type:"collaboration_selection",payload:{contentId:this.currentContentId,selection:e,timestamp:Date.now()}})}applyTextOperation(e){this.currentContentId&&(this.operationQueue.push(e),w.send({type:"collaboration_operation",payload:{contentId:this.currentContentId,operation:e,timestamp:Date.now()}}),this.processOperationQueue())}handleCollaborationEvent(e){switch(e.type){case"user_join":this.handleUserJoin(e);break;case"user_leave":this.handleUserLeave(e);break;case"cursor_move":this.handleCursorMove(e);break;case"text_change":this.handleTextChange(e);break;case"selection_change":this.handleSelectionChange(e)}}handleUserJoin(e){const t={id:e.userId,name:e.data.name,avatar:e.data.avatar,isActive:!0,lastActivity:e.timestamp};this.activeUsers.set(e.userId,t),this.emit("userJoined",t)}handleUserLeave(e){const t=this.activeUsers.get(e.userId);t&&(this.activeUsers.delete(e.userId),this.emit("userLeft",t))}handleCursorMove(e){const t=this.activeUsers.get(e.userId);t&&(t.cursor=e.data.position,t.lastActivity=e.timestamp,this.emit("cursorMoved",{user:t,position:e.data.position}))}handleTextChange(e){const t=e.data.operation,r=this.transformOperation(t);this.emit("textChanged",r)}handleSelectionChange(e){const t=this.activeUsers.get(e.userId);t&&(t.selection=e.data.selection,t.lastActivity=e.timestamp,this.emit("selectionChanged",{user:t,selection:e.data.selection}))}transformOperation(e){let t={...e};for(const r of this.operationQueue)r.timestamp<e.timestamp&&(t=this.transformAgainstOperation(t,r));return t}transformAgainstOperation(e,t){var r,s;if("insert"===e.type&&"insert"===t.type){if(t.position<=e.position)return{...e,position:e.position+((null==(r=t.content)?void 0:r.length)||0)}}else if("delete"===e.type&&"insert"===t.type){if(t.position<=e.position)return{...e,position:e.position+((null==(s=t.content)?void 0:s.length)||0)}}else if("insert"===e.type&&"delete"===t.type&&t.position<e.position)return{...e,position:Math.max(e.position-(t.length||0),t.position)};return e}processOperationQueue(){if(!this.isProcessingOperations){for(this.isProcessingOperations=!0,this.operationQueue.sort((e,t)=>e.timestamp-t.timestamp);this.operationQueue.length>0;){const e=this.operationQueue.shift();e&&this.emit("operationProcessed",e)}this.isProcessingOperations=!1}}getActiveUsers(){return Array.from(this.activeUsers.values())}getCurrentContentId(){return this.currentContentId}isUserActive(e){const t=this.activeUsers.get(e);if(!t)return!1;return Date.now()-t.lastActivity<3e5}};const B=new class extends k{constructor(){super(),t(this,"metrics",new Map),t(this,"charts",new Map),t(this,"subscriptions",new Set),t(this,"updateBuffer",[]),t(this,"bufferFlushInterval",1e3),t(this,"bufferTimer",null),this.setupWebSocketListeners(),this.startBufferFlush()}setupWebSocketListeners(){w.on("analyticsUpdate",e=>{this.handleAnalyticsUpdate(e)}),w.on("connected",()=>{this.subscriptions.forEach(e=>{w.subscribe(e)})})}startBufferFlush(){this.bufferTimer=setInterval(()=>{this.flushUpdateBuffer()},this.bufferFlushInterval)}handleAnalyticsUpdate(e){this.updateBuffer.push(e),this.updateBuffer.length>=10&&this.flushUpdateBuffer()}flushUpdateBuffer(){if(0===this.updateBuffer.length)return;const e=[...this.updateBuffer];this.updateBuffer=[],e.forEach(e=>{this.processAnalyticsUpdate(e)}),this.emit("batchUpdated",e)}processAnalyticsUpdate(e){e.metrics.forEach(e=>{const t=this.metrics.get(e.id);t&&(e.previousValue=t.value,e.change=e.value-t.value,e.changePercent=0!==t.value?e.change/t.value*100:0),this.metrics.set(e.id,e)}),this.updateCharts(e),this.emit("metricsUpdated",e.metrics)}updateCharts(e){this.charts.forEach((t,r)=>{const s=e.metrics.filter(e=>t.metrics.includes(e.id));s.length>0&&(s.forEach(e=>{t.data.push({timestamp:e.timestamp,value:e.value,label:e.name})}),t.data=t.data.sort((e,t)=>e.timestamp-t.timestamp).slice(-100),t.lastUpdated=Date.now(),this.emit("chartUpdated",t))})}subscribeToMetrics(e){const t=this.createSubscriptionKey(e);this.subscriptions.add(t),w.subscribe(`analytics:${t}`),w.send({type:"analytics_subscribe",payload:{filter:e,subscription:t}})}unsubscribeFromMetrics(e){const t=this.createSubscriptionKey(e);this.subscriptions.delete(t),w.unsubscribe(`analytics:${t}`)}createSubscriptionKey(e){return[e.timeRange||"all",e.workspaceId||"all",(e.contentIds||[]).join(",")||"all",(e.platforms||[]).join(",")||"all",(e.metrics||[]).join(",")||"all"].join("|")}getMetric(e){return this.metrics.get(e)}getMetrics(e){const t=Array.from(this.metrics.values());return e?t.filter(t=>t.category===e):t.sort((e,t)=>t.timestamp-e.timestamp)}createChart(e){const t={...e,data:[],lastUpdated:Date.now()};return this.charts.set(e.id,t),this.subscribeToMetrics({metrics:e.metrics,timeRange:e.timeRange}),t}getChart(e){return this.charts.get(e)}getCharts(){return Array.from(this.charts.values())}removeChart(e){const t=this.charts.get(e);if(t){const r=Array.from(this.charts.values()).filter(t=>t.id!==e),s=t.metrics.filter(e=>!r.some(t=>t.metrics.includes(e)));s.length>0&&this.unsubscribeFromMetrics({metrics:s}),this.charts.delete(e),this.emit("chartRemoved",e)}}getEngagementMetrics(e){return this.getMetrics("engagement").filter(t=>!e||t.id.includes(e))}getPerformanceMetrics(){return this.getMetrics("performance")}getRevenueMetrics(){return this.getMetrics("revenue")}getUsageMetrics(){return this.getMetrics("usage")}getSystemMetrics(){return this.getMetrics("system")}calculateTrend(e,t=864e5){const r=this.metrics.get(e);if(!r||!r.previousValue)return{trend:"stable",change:0,changePercent:0};const s=r.change||0,n=r.changePercent||0;let i="stable";return Math.abs(n)>5&&(i=n>0?"up":"down"),{trend:i,change:s,changePercent:n}}exportData(e){let t=this.getMetrics();if(e&&(e.metrics&&(t=t.filter(t=>e.metrics.includes(t.id))),e.timeRange)){const r=this.parseTimeRange(e.timeRange),s=Date.now()-r;t=t.filter(e=>e.timestamp>=s)}return{metrics:t,charts:this.getCharts(),exportedAt:Date.now()}}parseTimeRange(e){const t={"1h":36e5,"24h":864e5,"7d":6048e5,"30d":2592e6,"90d":7776e6};return t[e]||t["24h"]}destroy(){this.bufferTimer&&(clearInterval(this.bufferTimer),this.bufferTimer=null),this.subscriptions.clear(),this.metrics.clear(),this.charts.clear(),this.removeAllListeners()}};const W=new class extends k{constructor(){super(),t(this,"presences",new Map),t(this,"activities",[]),t(this,"currentUser",null),t(this,"heartbeatInterval",null),t(this,"typingTimeouts",new Map),t(this,"maxActivities",200),this.setupWebSocketListeners(),this.setupVisibilityHandlers(),this.setupActivityTracking()}setupWebSocketListeners(){w.on("userPresence",e=>{this.handlePresenceUpdate(e)}),w.on("userActivity",e=>{this.handleActivityUpdate(e)}),w.on("presenceUpdate",e=>{this.handlePresenceUpdateEvent(e)}),w.on("connected",()=>{this.currentUser&&(this.broadcastPresence(),this.startHeartbeat())}),w.on("disconnected",()=>{this.stopHeartbeat()})}setupVisibilityHandlers(){document.addEventListener("visibilitychange",()=>{if(this.currentUser){const e=document.hidden?"away":"online";this.updateStatus(e)}}),window.addEventListener("focus",()=>{this.currentUser&&this.updateStatus("online")}),window.addEventListener("blur",()=>{this.currentUser&&this.updateStatus("away")}),window.addEventListener("beforeunload",()=>{this.currentUser&&this.updateStatus("offline")})}setupActivityTracking(){let e=0;document.addEventListener("mousemove",()=>{const t=Date.now();t-e>5e3&&(this.updateLastActivity(),e=t)});let t=0;document.addEventListener("keypress",()=>{const e=Date.now();e-t>5e3&&(this.updateLastActivity(),t=e)}),document.addEventListener("click",()=>{this.updateLastActivity()})}handlePresenceUpdate(e){const t=this.presences.get(e.userId);this.presences.set(e.userId,e),t&&t.status===e.status||this.emit("statusChanged",e),t&&JSON.stringify(t.currentLocation)===JSON.stringify(e.currentLocation)||this.emit("locationChanged",e),this.emit("presenceUpdated",e)}handleActivityUpdate(e){this.activities.unshift(e),this.activities.length>this.maxActivities&&(this.activities=this.activities.slice(0,this.maxActivities)),this.emit("activityAdded",e)}handlePresenceUpdateEvent(e){const t=this.presences.get(e.userId);t&&(e.status&&(t.status=e.status),e.location&&(t.currentLocation=e.location),void 0!==e.isTyping&&(t.isTyping=e.isTyping),void 0!==e.customStatus&&(t.customStatus=e.customStatus),t.lastSeen=e.timestamp,this.emit("presenceUpdated",t))}initializeUser(e){this.currentUser={...e,status:"online",lastSeen:Date.now()},this.broadcastPresence(),this.startHeartbeat()}updateStatus(e){this.currentUser&&(this.currentUser.status=e,this.currentUser.lastSeen=Date.now(),this.broadcastPresence(),this.emit("currentUserStatusChanged",e))}updateLocation(e){this.currentUser&&(this.currentUser.currentLocation=e,this.currentUser.lastSeen=Date.now(),this.broadcastPresence(),this.emit("currentUserLocationChanged",e))}updateCustomStatus(e){this.currentUser&&(this.currentUser.customStatus=e,this.currentUser.lastSeen=Date.now(),this.broadcastPresence())}setTyping(e,t){if(this.currentUser&&(this.currentUser.isTyping=e,w.send({type:"typing_status",payload:{isTyping:e,context:t,timestamp:Date.now()}}),e)){const e=`${this.currentUser.userId}_typing`,r=this.typingTimeouts.get(e);r&&clearTimeout(r);const s=setTimeout(()=>{this.setTyping(!1,t),this.typingTimeouts.delete(e)},3e3);this.typingTimeouts.set(e,s)}}broadcastPresence(){this.currentUser&&w.send({type:"presence_update",payload:{...this.currentUser,timestamp:Date.now()}})}startHeartbeat(){this.stopHeartbeat(),this.heartbeatInterval=setInterval(()=>{this.currentUser&&(this.updateLastActivity(),this.broadcastPresence())},3e4)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}updateLastActivity(){this.currentUser&&(this.currentUser.lastSeen=Date.now(),"away"===this.currentUser.status&&this.updateStatus("online"))}trackActivity(e,t,r,s){if(!this.currentUser)return;const n={userId:this.currentUser.userId,action:e,resource:t,resourceId:r,timestamp:Date.now(),metadata:s};w.send({type:"user_activity",payload:n}),this.handleActivityUpdate(n)}getPresence(e){return this.presences.get(e)}getAllPresences(){return Array.from(this.presences.values())}getOnlineUsers(){return this.getAllPresences().filter(e=>"online"===e.status)}getUsersInLocation(e){return this.getAllPresences().filter(t=>!!t.currentLocation&&(t.currentLocation.page===e.page&&t.currentLocation.contentId===e.contentId&&t.currentLocation.workspaceId===e.workspaceId))}getTypingUsers(e){return this.getAllPresences().filter(t=>{var r,s;return!!t.isTyping&&(!e||(null==(r=t.currentLocation)?void 0:r.contentId)===e.contentId&&(null==(s=t.currentLocation)?void 0:s.workspaceId)===e.workspaceId)})}getRecentActivities(e,t=20){let r=this.activities;return e&&(r=r.filter(t=>t.userId===e)),r.slice(0,t)}subscribeToWorkspace(e){w.subscribe(`presence:workspace:${e}`)}unsubscribeFromWorkspace(e){w.unsubscribe(`presence:workspace:${e}`)}subscribeToContent(e){w.subscribe(`presence:content:${e}`)}unsubscribeFromContent(e){w.unsubscribe(`presence:content:${e}`)}getCurrentUser(){return this.currentUser}isUserOnline(e){const t=this.presences.get(e);if(!t)return!1;const r=Date.now();return"online"===t.status&&r-t.lastSeen<3e5}getLastSeenText(e){const t=this.presences.get(e);if(!t)return"Never";const r=Date.now()-t.lastSeen;return r<6e4?"Just now":r<36e5?`${Math.floor(r/6e4)} minutes ago`:r<864e5?`${Math.floor(r/36e5)} hours ago`:`${Math.floor(r/864e5)} days ago`}destroy(){this.stopHeartbeat(),this.typingTimeouts.forEach(e=>clearTimeout(e)),this.typingTimeouts.clear(),this.currentUser&&this.updateStatus("offline"),this.presences.clear(),this.activities=[],this.removeAllListeners()}},F=r.createContext({isConnected:!1,connectionStatus:"disconnected",lastError:null}),$=({children:e,autoConnect:t=!0})=>{const[i,a]=s.useState(!1),[o,c]=s.useState("disconnected"),[u,l]=s.useState(null);r.useEffect(()=>{const e=()=>{a(!0),c("connected"),l(null)},r=()=>{a(!1),c("disconnected")},s=e=>{const t=e instanceof Error?e:new Error(String(e));l(t),c("error")};if(w.on("connected",e),w.on("disconnected",r),w.on("error",s),t){const e=localStorage.getItem("auth_token");e&&(c("connecting"),w.connect(e).catch(s))}return()=>{w.off("connected",e),w.off("disconnected",r),w.off("error",s)}},[t]),r.useEffect(()=>()=>{w.disconnect(),z.leaveContent(),B.destroy(),W.destroy()},[]);const d=s.useMemo(()=>({isConnected:i,connectionStatus:o,lastError:u}),[i,o,u]);return n(F.Provider,{value:d,children:e})};const N=r.createContext(void 0),V="ai-content-theme-mode",J=()=>{try{const e=localStorage.getItem(V);if(e&&["light","dark","auto"].includes(e))return e}catch(e){}return"auto"},Q=({children:e})=>{const t=M("(prefers-color-scheme: dark)"),[s,a]=r.useState(J),o=r.useMemo(()=>"auto"===s?t?"dark":"light":s,[s,t]),c=r.useMemo(()=>{const e=(e=>{const t="light"===e;return _({palette:{mode:e,primary:{main:t?"#1976d2":"#90caf9",light:t?"#42a5f5":"#e3f2fd",dark:t?"#1565c0":"#42a5f5",contrastText:t?"#ffffff":"#000000"},secondary:{main:t?"#dc004e":"#f48fb1",light:t?"#ff5983":"#fce4ec",dark:t?"#9a0036":"#f48fb1"},background:{default:t?"#fafafa":"#121212",paper:t?"#ffffff":"#1e1e1e"},text:{primary:t?"rgba(0, 0, 0, 0.87)":"rgba(255, 255, 255, 0.87)",secondary:t?"rgba(0, 0, 0, 0.6)":"rgba(255, 255, 255, 0.6)"},divider:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)",action:{hover:t?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.08)",selected:t?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.12)"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),h1:{fontWeight:300,fontSize:"2.5rem",lineHeight:1.2},h2:{fontWeight:300,fontSize:"2rem",lineHeight:1.3},h3:{fontWeight:400,fontSize:"1.75rem",lineHeight:1.4},h4:{fontWeight:400,fontSize:"1.5rem",lineHeight:1.4},h5:{fontWeight:400,fontSize:"1.25rem",lineHeight:1.5},h6:{fontWeight:500,fontSize:"1rem",lineHeight:1.6},body1:{fontSize:"1rem",lineHeight:1.5},body2:{fontSize:"0.875rem",lineHeight:1.43},button:{textTransform:"none",fontWeight:500}},shape:{borderRadius:8},spacing:8,components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:500,boxShadow:"none","&:hover":{boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}},contained:{boxShadow:"0 1px 3px rgba(0,0,0,0.12)","&:hover":{boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}}},MuiCard:{styleOverrides:{root:{boxShadow:t?"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)":"0 1px 3px rgba(255,255,255,0.12), 0 1px 2px rgba(255,255,255,0.24)",borderRadius:12,"&:hover":{boxShadow:t?"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)":"0 3px 6px rgba(255,255,255,0.16), 0 3px 6px rgba(255,255,255,0.23)"}}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"none",borderBottom:"1px solid "+(t?"rgba(0,0,0,0.12)":"rgba(255,255,255,0.12)")}}},MuiDrawer:{styleOverrides:{paper:{borderRight:"1px solid "+(t?"rgba(0,0,0,0.12)":"rgba(255,255,255,0.12)")}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}},MuiChip:{styleOverrides:{root:{borderRadius:16}}},MuiAlert:{styleOverrides:{root:{borderRadius:8}}}}})})(o);return(e=>L(e,{custom:{gradients:{primary:"light"===e.palette.mode?"linear-gradient(45deg, #1976d2 30%, #42a5f5 90%)":"linear-gradient(45deg, #90caf9 30%, #e3f2fd 90%)",secondary:"light"===e.palette.mode?"linear-gradient(45deg, #dc004e 30%, #ff5983 90%)":"linear-gradient(45deg, #f48fb1 30%, #fce4ec 90%)"},shadows:{card:"light"===e.palette.mode?"0 4px 6px rgba(0, 0, 0, 0.07), 0 1px 3px rgba(0, 0, 0, 0.06)":"0 4px 6px rgba(255, 255, 255, 0.07), 0 1px 3px rgba(255, 255, 255, 0.06)",elevated:"light"===e.palette.mode?"0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05)":"0 10px 15px rgba(255, 255, 255, 0.1), 0 4px 6px rgba(255, 255, 255, 0.05)"},animations:{fadeIn:"fadeIn 0.3s ease-in-out",slideUp:"slideUp 0.3s ease-out",bounce:"bounce 0.6s ease-in-out"}}}))(e)},[o]),u=e=>{a(e),(e=>{try{localStorage.setItem(V,e)}catch(t){}})(e)};r.useEffect(()=>{const e=document.documentElement;e.style.setProperty("--primary-color",c.palette.primary.main),e.style.setProperty("--secondary-color",c.palette.secondary.main),e.style.setProperty("--background-color",c.palette.background.default),e.style.setProperty("--paper-color",c.palette.background.paper),e.style.setProperty("--text-primary",c.palette.text.primary),e.style.setProperty("--text-secondary",c.palette.text.secondary);const t=document.querySelector('meta[name="theme-color"]');t&&t.setAttribute("content",c.palette.primary.main)},[c]);const l={mode:s,setMode:u,toggleMode:()=>{u("light"===o?"dark":"light")},actualMode:o};return n(N.Provider,{value:l,children:i(T,{theme:c,children:[n(E,{}),e]})})};if("undefined"!=typeof document){const e=document.createElement("style");e.textContent="\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @keyframes slideUp {\n    from {\n      transform: translateY(20px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes bounce {\n    0%, 20%, 53%, 80%, 100% {\n      transform: translate3d(0, 0, 0);\n    }\n    40%, 43% {\n      transform: translate3d(0, -30px, 0);\n    }\n    70% {\n      transform: translate3d(0, -15px, 0);\n    }\n    90% {\n      transform: translate3d(0, -4px, 0);\n    }\n  }\n",document.head.appendChild(e)}const q=({message:e="Loading...",variant:t="spinner"})=>{switch(t){case"skeleton":return i(O,{sx:{p:3},children:[n(D,{variant:"rectangular",height:60,sx:{mb:2}}),n(D,{variant:"text",height:40,sx:{mb:1}}),n(D,{variant:"text",height:40,sx:{mb:1}}),n(D,{variant:"text",height:40,width:"60%"})]});case"minimal":return n(O,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:n(A,{size:24})});default:return i(O,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"400px",gap:2},children:[n(A,{size:40}),n(P,{variant:"body2",color:"text.secondary",children:e})]})}},K=({error:e,resetErrorBoundary:t})=>i(O,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"400px",gap:2,p:3,textAlign:"center"},children:[n(P,{variant:"h6",color:"error",children:"Something went wrong"}),n(P,{variant:"body2",color:"text.secondary",children:e.message}),n("button",{onClick:t,style:{padding:"8px 16px",border:"1px solid #ccc",borderRadius:"4px",background:"white",cursor:"pointer"},children:"Try again"})]});const Y=(e,t)=>function(e,t={}){const i=s.lazy(e);t.preload&&e();const o=s.forwardRef((e,s)=>n(a,{FallbackComponent:t.errorFallback??(e=>n(K,{error:e.error,resetErrorBoundary:e.resetErrorBoundary})),onReset:()=>window.location.reload(),children:n(r.Suspense,{fallback:t.fallback?n(t.fallback,{}):n(q,{message:t.loadingMessage,variant:t.loadingVariant}),children:n(i,{...e,ref:s})})})),c=i.displayName;return o.displayName=`LazyWrapper(${c||"Component"})`,o}(e,{loadingMessage:`Loading ${t}...`,loadingVariant:"skeleton"});class G{static preload(e,t){this.preloadedComponents.has(e)||(this.preloadedComponents.add(e),"requestIdleCallback"in window?requestIdleCallback(()=>{t().catch(e=>{})}):setTimeout(()=>{t().catch(e=>{})},100))}static preloadOnHover(e,t,r){const s=()=>{this.preload(t,r),e.removeEventListener("mouseenter",s)};e.addEventListener("mouseenter",s)}static preloadOnIntersection(e,t,r,s={}){const n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(this.preload(t,r),n.disconnect())})},{rootMargin:"100px",...s});n.observe(e)}}t(G,"preloadedComponents",new Set);const X=class e{constructor(){t(this,"metrics",new Map),t(this,"observers",[]),this.initializeObservers()}static getInstance(){return e.instance||(e.instance=new e),e.instance}initializeObservers(){if("PerformanceObserver"in window){const t=new PerformanceObserver(e=>{const t=e.getEntries(),r=t[t.length-1];this.metrics.set("LCP",r.startTime),this.reportMetric("LCP",r.startTime)});try{t.observe({entryTypes:["largest-contentful-paint"]}),this.observers.push(t)}catch(e){}const r=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{const t=e,r=t.processingStart-t.startTime;this.metrics.set("FID",r),this.reportMetric("FID",r)})});try{r.observe({entryTypes:["first-input"]}),this.observers.push(r)}catch(e){}let s=0;const n=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(s+=e.value)}),this.metrics.set("CLS",s),this.reportMetric("CLS",s)});try{n.observe({entryTypes:["layout-shift"]}),this.observers.push(n)}catch(e){}const i=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{const t=e.responseStart-e.requestStart;this.metrics.set("TTFB",t),this.reportMetric("TTFB",t)})});try{i.observe({entryTypes:["navigation"]}),this.observers.push(i)}catch(e){}}}startMeasure(e){performance.mark(`${e}-start`)}endMeasure(e){performance.mark(`${e}-end`),performance.measure(e,`${e}-start`,`${e}-end`);const t=performance.getEntriesByName(e,"measure")[0].duration;return this.metrics.set(e,t),this.reportMetric(e,t),performance.clearMarks(`${e}-start`),performance.clearMarks(`${e}-end`),performance.clearMeasures(e),t}reportMetric(e,t){}getMetrics(){return Object.fromEntries(this.metrics)}getMemoryUsage(){return"memory"in performance?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit}:null}getNetworkInfo(){if("connection"in navigator){const e=navigator.connection;return{effectiveType:e.effectiveType,downlink:e.downlink,rtt:e.rtt,saveData:e.saveData}}return null}disconnect(){this.observers.forEach(e=>e.disconnect()),this.observers=[]}};t(X,"instance");let Z=X;const ee=Y(()=>m(()=>import("./chunk-BahpKeVa.js").then(e=>e.L),__vite__mapDeps([0,1,2,3,4,5])),"Login"),te=Y(()=>m(()=>import("./chunk-BahpKeVa.js").then(e=>e.R),__vite__mapDeps([0,1,2,3,4,5])),"Register"),re=Y(()=>m(()=>import("./chunk-B-bFj9Kt.js").then(e=>e.D),__vite__mapDeps([6,1,2,3,4,5])),"Dashboard"),se=Y(()=>m(()=>import("./page-content-DiS02WHI.js"),__vite__mapDeps([7,1,2,3,4])),"Content Creator"),ne=Y(()=>m(()=>import("./page-templates--dQk_Sd_.js"),__vite__mapDeps([8,1,2,3,4])),"Templates"),ie=Y(()=>m(()=>import("./page-analytics-CDsGNCQF.js"),__vite__mapDeps([9,1,2,3,4])),"Analytics"),ae=Y(()=>m(()=>import("./page-settings-BaajzrZe.js"),__vite__mapDeps([10,1,2,3,4,5])),"Settings"),oe=Y(()=>m(()=>import("./page-pricing-BTMPODO4.js"),__vite__mapDeps([11,1,2,3,4])),"Pricing"),ce=Y(()=>m(()=>import("./chunk-buqKH5iP.js").then(e=>e.P),__vite__mapDeps([12,1,2,3,4])),"Payment Success"),ue=Y(()=>m(()=>import("./chunk-buqKH5iP.js").then(e=>e.a),__vite__mapDeps([12,1,2,3,4])),"Payment Failure");function le(){const{isLoading:e,user:t}=f(),{startMeasure:a,endMeasure:l}=(()=>{const e=Z.getInstance();return{startMeasure:e.startMeasure.bind(e),endMeasure:e.endMeasure.bind(e),getMetrics:e.getMetrics.bind(e),getMemoryUsage:e.getMemoryUsage.bind(e),getNetworkInfo:e.getNetworkInfo.bind(e)}})(),{isConnected:d,connect:h}=function(e={}){const{autoConnect:t=!0,reconnectOnMount:s=!0}=e,[n,i]=r.useState({isConnected:!1,isConnecting:!1,error:null,lastMessage:null}),a=r.useRef(n);a.current=n;const o=r.useCallback(async e=>{if(!a.current.isConnecting&&!a.current.isConnected){i(e=>({...e,isConnecting:!0,error:null}));try{const t=e||localStorage.getItem("auth_token")||"";await w.connect(t)}catch(t){i(e=>({...e,isConnecting:!1,error:t}))}}},[]),c=r.useCallback(()=>{w.disconnect()},[]),u=r.useCallback(e=>{a.current.isConnected,w.send(e)},[]),l=r.useCallback(e=>{w.subscribe(e)},[]),d=r.useCallback(e=>{w.unsubscribe(e)},[]);return r.useEffect(()=>{const e=()=>{i(e=>({...e,isConnected:!0,isConnecting:!1,error:null}))},r=()=>{i(e=>({...e,isConnected:!1,isConnecting:!1}))},s=e=>{i(t=>({...t,error:e,isConnecting:!1}))},n=e=>{i(t=>({...t,lastMessage:e}))};return w.on("connected",e),w.on("disconnected",r),w.on("error",s),w.on("message",n),t&&!w.getConnectionStatus()&&o(),()=>{w.off("connected",e),w.off("disconnected",r),w.off("error",s),w.off("message",n)}},[t,o]),r.useEffect(()=>{s&&!w.getConnectionStatus()&&o()},[s,o]),{...n,connect:o,disconnect:c,send:u,subscribe:l,unsubscribe:d}}({autoConnect:!0}),{initializeUser:p}=function(e={}){const{workspaceId:t,contentId:s,autoInitialize:n=!0}=e,[i,a]=r.useState({currentUser:null,allPresences:[],onlineUsers:[],usersInLocation:[],typingUsers:[],recentActivities:[]});r.useRef(e).current=e;const o=r.useCallback(e=>{W.initializeUser(e)},[]),c=r.useCallback(e=>{W.updateStatus(e)},[]),u=r.useCallback(e=>{W.updateLocation(e)},[]),l=r.useCallback(e=>{W.updateCustomStatus(e)},[]),d=r.useCallback((e,t)=>{W.setTyping(e,t)},[]),h=r.useCallback((e,t,r,s)=>{W.trackActivity(e,t,r,s)},[]),p=r.useCallback(e=>W.getPresence(e),[]),m=r.useCallback(e=>W.isUserOnline(e),[]),g=r.useCallback(e=>W.getLastSeenText(e),[]),f=r.useCallback(()=>{const e=W.getCurrentUser(),r=W.getAllPresences(),n=W.getOnlineUsers(),i=t||s?W.getUsersInLocation({page:s?"content":"workspace",contentId:s,workspaceId:t}):[],o=W.getTypingUsers(s||t?{contentId:s,workspaceId:t}:void 0),c=W.getRecentActivities();a({currentUser:e,allPresences:r,onlineUsers:n,usersInLocation:i,typingUsers:o,recentActivities:c})},[t,s]);return r.useEffect(()=>{const e=()=>{f()},r=()=>{f()},n=()=>{f()},i=e=>{a(t=>t.currentUser?{...t,currentUser:{...t.currentUser,status:e}}:t)},o=e=>{a(t=>t.currentUser?{...t,currentUser:{...t.currentUser,currentLocation:e}}:t)};return W.on("presenceUpdated",e),W.on("statusChanged",r),W.on("locationChanged",n),W.on("currentUserStatusChanged",i),W.on("currentUserLocationChanged",o),f(),t&&W.subscribeToWorkspace(t),s&&W.subscribeToContent(s),()=>{W.off("presenceUpdated",e),W.off("statusChanged",r),W.off("locationChanged",n),W.off("currentUserStatusChanged",i),W.off("currentUserLocationChanged",o),t&&W.unsubscribeFromWorkspace(t),s&&W.unsubscribeFromContent(s)}},[t,s,f]),r.useEffect(()=>{if(n){const t=localStorage.getItem("auth_token"),r=localStorage.getItem("user_info");if(t&&r)try{const e=JSON.parse(r);o({userId:e.id,username:e.username||e.email,avatar:e.avatar})}catch(e){}}},[n,o]),r.useEffect(()=>{i.currentUser&&(t||s)&&u({page:s?"content":"workspace",contentId:s,workspaceId:t})},[t,s,i.currentUser,u]),r.useEffect(()=>{const e=setInterval(f,3e4);return()=>clearInterval(e)},[f]),{...i,initializeUser:o,updateStatus:c,updateLocation:u,updateCustomStatus:l,setTyping:d,trackActivity:h,getPresence:p,isUserOnline:m,getLastSeenText:g,refreshData:f}}({autoInitialize:!1});return s.useEffect(()=>(a("app-initialization"),()=>{l("app-initialization")}),[a,l]),s.useEffect(()=>{var r;if(t&&!e&&(p({userId:(null==(r=t.id)?void 0:r.toString())||"anonymous",username:t.username||t.email||"Anonymous User",avatar:t.avatar||t.profilePictureUrl||void 0}),!d)){const e=localStorage.getItem("auth_token");e&&h(e)}},[t,e,d,h,p]),n(Q,e?{children:n(b,{fullScreen:!0,message:"Loading application..."})}:{children:n(y,{children:n(v,{children:n($,{autoConnect:!!t,children:n(x,{onError:(e,t)=>{},children:i(O,{sx:{display:"flex",minHeight:"100vh"},children:[i(o,{children:[n(c,{path:"/login",element:n(ee,{})}),n(c,{path:"/register",element:n(te,{})}),n(c,{path:"/pricing",element:n(oe,{})}),n(c,{path:"/payment/success",element:n(ce,{})}),n(c,{path:"/payment/failure",element:n(ue,{})}),i(c,{path:"/",element:n(C,{children:n(I,{})}),children:[n(c,{index:!0,element:n(u,{to:"/dashboard",replace:!0})}),n(c,{path:"dashboard",element:n(re,{})}),n(c,{path:"content/create",element:n(se,{})}),n(c,{path:"templates",element:n(ne,{})}),n(c,{path:"analytics",element:n(ie,{})}),n(c,{path:"settings",element:n(ae,{})})]}),n(c,{path:"*",element:n(u,{to:"/dashboard",replace:!0})})]}),n(S,{})]})})})})})})}G.preload("Dashboard",()=>m(()=>import("./chunk-B-bFj9Kt.js").then(e=>e.D),__vite__mapDeps([6,1,2,3,4,5]))),G.preload("ContentCreator",()=>m(()=>import("./page-content-DiS02WHI.js"),__vite__mapDeps([7,1,2,3,4])));const de=_({palette:{mode:"light",primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0",contrastText:"#ffffff"},secondary:{main:"#9c27b0",light:"#ba68c8",dark:"#7b1fa2",contrastText:"#ffffff"},error:{main:"#d32f2f",light:"#ef5350",dark:"#c62828"},warning:{main:"#ed6c02",light:"#ff9800",dark:"#e65100"},info:{main:"#0288d1",light:"#03a9f4",dark:"#01579b"},success:{main:"#2e7d32",light:"#4caf50",dark:"#1b5e20"},background:{default:"#fafafa",paper:"#ffffff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),h1:{fontSize:"2.5rem",fontWeight:600,lineHeight:1.2},h2:{fontSize:"2rem",fontWeight:600,lineHeight:1.3},h3:{fontSize:"1.75rem",fontWeight:600,lineHeight:1.4},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.5},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.5},body1:{fontSize:"1rem",lineHeight:1.5},body2:{fontSize:"0.875rem",lineHeight:1.43},button:{textTransform:"none",fontWeight:500}},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:500,padding:"8px 16px"},contained:{boxShadow:"none","&:hover":{boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"}}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}},MuiPaper:{styleOverrides:{root:{borderRadius:12}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.1)"}}}},breakpoints:{values:{xs:0,sm:600,md:900,lg:1200,xl:1536}}});_({...de,palette:{...de.palette,mode:"dark",background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"#ffffff",secondary:"rgba(255, 255, 255, 0.7)"}}});const he=new g({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:(e,t)=>{var r;return 401!==(null==(r=null==t?void 0:t.response)?void 0:r.status)&&e<3}},mutations:{retry:1}}});l.createRoot(document.getElementById("root")).render(n(s.StrictMode,{children:i(p,{client:he,children:[n(d,{children:n(T,{theme:de,children:i(R,{dateAdapter:j,children:[n(E,{}),n(U,{children:n(H,{children:n(le,{})})})]})})}),n(h,{initialIsOpen:!1})]})}));
