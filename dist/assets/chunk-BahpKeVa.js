import{r as e,a as r,j as a,u as i,l as s,L as n}from"./chunk-BLWUN8J3.js";import{aJ as o,aK as t,aL as l,aM as d}from"./chunk-DU-2Uplp.js";import{u as m}from"./chunk-B5QGrkOq.js";import{e as u,az as c,B as h,d as p,n as g,g as f,L as w,G as v,aA as x,ay as b,at as y}from"./chunk-IloZ2OGx.js";const S=e.createContext(void 0),q=({children:i})=>{const[s,n]=e.useState({open:!1,message:"",severity:"info"}),o=(e,r="info")=>{n({open:!0,message:e,severity:r})},t=()=>{n(e=>({...e,open:!1}))},l={showNotification:o,showSuccess:e=>o(e,"success"),showError:e=>o(e,"error"),showWarning:e=>o(e,"warning"),showInfo:e=>o(e,"info")};return r(S.Provider,{value:l,children:[i,a(c,{open:s.open,autoHideDuration:6e3,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},children:a(u,{onClose:t,severity:s.severity,variant:"filled",sx:{width:"100%"},children:s.message})})]})},C=()=>{const r=e.useContext(S);if(void 0===r)throw new Error("useNotification must be used within a NotificationProvider");return r},P=t({usernameOrEmail:l().required("Username or email is required"),password:l().required("Password is required")}),N=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{var e,t;const{login:l}=m(),{showError:d,showSuccess:u}=C(),c=i(),{register:y,handleSubmit:S,formState:{errors:q,isSubmitting:N}}=s({resolver:o(P)});return a(b,{component:"main",maxWidth:"sm",children:a(h,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:r(x,{elevation:3,sx:{padding:4,width:"100%"},children:[a(p,{component:"h1",variant:"h4",align:"center",gutterBottom:!0,children:"Sign In"}),r(h,{component:"form",onSubmit:S(async e=>{var r,a;try{await l(e.usernameOrEmail,e.password),u("Login successful!"),c("/dashboard")}catch(i){d((null==(a=null==(r=i.response)?void 0:r.data)?void 0:a.message)||"Login failed")}}),sx:{mt:1},children:[a(g,{margin:"normal",required:!0,fullWidth:!0,id:"usernameOrEmail",label:"Username or Email",autoComplete:"username",autoFocus:!0,error:!!q.usernameOrEmail,helperText:null==(e=q.usernameOrEmail)?void 0:e.message,...y("usernameOrEmail")}),a(g,{margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password",error:!!q.password,helperText:null==(t=q.password)?void 0:t.message,...y("password")}),a(f,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:N,children:N?"Signing In...":"Sign In"}),a(h,{sx:{textAlign:"center"},children:a(w,{component:n,to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})}),a(v,{sx:{my:2},children:"OR"}),a(f,{fullWidth:!0,variant:"outlined",sx:{mb:1},onClick:()=>{},children:"Continue with Google"}),a(f,{fullWidth:!0,variant:"outlined",onClick:()=>{},children:"Continue with Facebook"})]})]})})})}},Symbol.toStringTag,{value:"Module"})),W=t({username:l().min(3,"Username must be at least 3 characters").required("Username is required"),email:l().email("Invalid email").required("Email is required"),password:l().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:l().oneOf([d("password")],"Passwords must match").required("Confirm password is required"),firstName:l().required("First name is required"),lastName:l(),phoneNumber:l(),timezone:l(),language:l()}),E=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{var e,t,l,d,u,c;const{register:v}=m(),{showError:S,showSuccess:q}=C(),P=i(),{register:N,handleSubmit:E,formState:{errors:O,isSubmitting:T}}=s({resolver:o(W)});return a(b,{component:"main",maxWidth:"sm",children:a(h,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:r(x,{elevation:3,sx:{padding:4,width:"100%"},children:[a(p,{component:"h1",variant:"h4",align:"center",gutterBottom:!0,children:"Sign Up"}),r(h,{component:"form",onSubmit:E(async e=>{var r,a;try{const{confirmPassword:r,...a}=e;await v(a),q("Registration successful! Please check your email for verification."),P("/dashboard")}catch(i){S((null==(a=null==(r=i.response)?void 0:r.data)?void 0:a.message)||"Registration failed")}}),sx:{mt:1},children:[r(y,{container:!0,spacing:2,children:[a(y,{item:!0,xs:12,sm:6,children:a(g,{autoComplete:"given-name",fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,error:!!O.firstName,helperText:null==(e=O.firstName)?void 0:e.message,...N("firstName")})}),a(y,{item:!0,xs:12,sm:6,children:a(g,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",autoComplete:"family-name",error:!!O.lastName,helperText:null==(t=O.lastName)?void 0:t.message,...N("lastName")})}),a(y,{item:!0,xs:12,children:a(g,{required:!0,fullWidth:!0,id:"username",label:"Username",autoComplete:"username",error:!!O.username,helperText:null==(l=O.username)?void 0:l.message,...N("username")})}),a(y,{item:!0,xs:12,children:a(g,{required:!0,fullWidth:!0,id:"email",label:"Email Address",autoComplete:"email",error:!!O.email,helperText:null==(d=O.email)?void 0:d.message,...N("email")})}),a(y,{item:!0,xs:12,children:a(g,{required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"new-password",error:!!O.password,helperText:null==(u=O.password)?void 0:u.message,...N("password")})}),a(y,{item:!0,xs:12,children:a(g,{required:!0,fullWidth:!0,label:"Confirm Password",type:"password",id:"confirmPassword",error:!!O.confirmPassword,helperText:null==(c=O.confirmPassword)?void 0:c.message,...N("confirmPassword")})})]}),a(f,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:T,children:T?"Creating Account...":"Sign Up"}),a(h,{sx:{textAlign:"center"},children:a(w,{component:n,to:"/login",variant:"body2",children:"Already have an account? Sign In"})})]})]})})})}},Symbol.toStringTag,{value:"Module"}));export{N as L,q as N,E as R};
